---
import ExperienceItem from "./ExperienceItem.astro";
import experienceEs from "../i18n/es/experience.json";
import experienceEn from "../i18n/en/experience.json";
const base = import.meta.env.BASE_URL;

type Lang = "es" | "en";
const { lang = "es" } = Astro.props as { lang?: Lang };
const experienceData = lang === "en" ? experienceEn : experienceEs;

const EXPERIENCES = experienceData.items.map((item) => ({
    ...item,
    image: item.id === "natureh" ? `${base}/institutions/natureh-logo.webp` : "",
}));
---

<ol class="relative border-s border-default mb-10">
    {
        EXPERIENCES.map((experience) => (
            <li class="mb-10 ms-4">
                <ExperienceItem {...experience} />
            </li>
        ))
    }
</ol>
